---
layout: post
title:  "TIL - 180804"
date:   2018-8-4
categories: [til]
---

8월 4일 TIL : 배민찬 카피 프로젝트

## python manage.py migrate --fake

--fake 옵션이 도대체 뭘까? 조금 더 공부해보니 해당 마이그레이션 파일을 '이미 반영된 것'으로 취급한다는 것이다. 내가 git을 통해서 다른 사람이 만든 마이그레이션 파일을 가져왔다고 해보자. 이것은 내 입장에서 아직 마이그레이션하지 않은 파일이다. 하지만 다른 사람이 이미 마이그레이션했을 수도 있다. 그럴 경우 --fake 옵션을 통해 '이미 반영된 것'으로 취급하면 된다.

이 방법을 이용하면 마이그레이션 파일을 정리할 때도 편리하게 사용할 수 있을 것 같다. 마이그레이션 파일을 모두 지우고 새로 생성하면 하나의 마이그레이션 파일이 생성될 것이다. 이 파일의 내용은 이미 DB에 반영되어 있을 것이기 때문에 --fake 옵션을 줘서 처리해야할 것이다. 대신 하나의 깔끔한 마이그레이션 파일을 가질 수 있다.
